{"version":3,"sources":["CabMenu.js","Home.js","Conecta.js","FormCadastro.js","ItemLista.js","Listagem.js","App.js","index.js"],"names":["CabMenu","className","to","Component","Home","Conecta","axios","create","baseURL","FormCadastro","state","nome","sexo","nasc","foto","aviso","limpar","setState","initialState","handleChange","e","target","name","value","habilitarCamera","a","navigator","mediaDevices","getUserMedia","video","then","mediaStream","document","getElementById","style","visibility","srcObject","onloadedmetadata","play","catch","err","console","log","message","capturarFoto","canvas","getContext","drawImage","pause","toDataURL","handleSubmit","preventDefault","tempoAviso","formData","FormData","append","config","headers","post","reg","data","id","tempo","setTimeout","this","onSubmit","encType","type","placeholder","autoFocus","onChange","width","height","onClick","ItemLista","props","nota","window","confirm","excluir","Listagem","clientes","loadClientes","firebase","collection","orderBy","onSnapshot","snapshot","docChanges","forEach","change","push","doc","formataData","Date","toLocaleDateString","timeZone","delete","error","map","cliente","key","React","App","path","exact","component","ReactDOM","render"],"mappings":"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","file":"static/js/main.0c4e2ec4.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default class CabMenu extends Component {\r\n  render() {\r\n    return (\r\n      <nav className=\"navbar navbar-expand-sm bg-dark navbar-dark mb-2\">\r\n\r\n        <Link to='/' className=\"navbar-brand\">Clientes</Link>\r\n\r\n        <ul className=\"navbar-nav\">          \r\n          <li className=\"nav-item\">\r\n            <Link to='/cadastro' className=\"nav-link\">Cadastro</Link>\r\n          </li>\r\n          <li className=\"nav-item\">\r\n            <Link to='/listagem' className=\"nav-link\">Listagem</Link>\r\n          </li>\r\n          <li className=\"nav-item\">\r\n            <Link to='/resumo' className=\"nav-link\">Resumo</Link>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\n\r\n\r\n\r\nconst Home = () => (\r\n  <div className=\"mx-2\">\r\n    <h4>Cadastro de Clientes</h4>\r\n    <h5>Trabalho de Tópicos Avançados de Ánalise de Sistemas</h5>\r\n  </div>\r\n)\r\n\r\nexport default Home","import axios from 'axios'\r\nconst Conecta = axios.create({baseURL: 'https://taadscadastro.000webhostapp.com/'})\r\nexport default Conecta","import React, {Component} from 'react'\r\nimport Conecta from './Conecta'\r\n\r\nexport default class FormCadastro extends Component {\r\n\r\n  state = {\r\n    nome: '',\r\n    sexo: '',\r\n    nasc: '',\r\n    foto: '',\r\n    aviso: ''\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.initialState = this.state\r\n  }\r\n\r\nlimpar = () => {\r\n  this.setState(this.initialState)\r\n}\r\n\r\n  handleChange = e => {\r\n    this.setState({[e.target.name]: e.target.value})\r\n  }\r\n\r\nhabilitarCamera = async ()=> {\r\n  if(navigator.mediaDevices && navigator.mediaDevices.getUserMedia){\r\n    await navigator.mediaDevices.getUserMedia({video: true})\r\n    .then(function (mediaStream){\r\n      var video = document.getElementById('video')\r\n      video.style.visibility = \"visible\"\r\n      video.srcObject = mediaStream;\r\n      video.onloadedmetadata = function (e){\r\n        video.play();\r\n      \r\n      };\r\n    })\r\n    .catch(function (err) { console.log(err.name + \": \" + err.message); \r\n    });\r\n\r\n  }\r\n}\r\n\r\ncapturarFoto = () => {\r\n  var canvas = document.getElementById('canvas')\r\n  var video = document.getElementById('video')\r\n  var context = canvas.getContext('2d')\r\n\r\n  //desenha no canvas a imagem do vídeo.\r\n  context.drawImage(video, 0,0,320,240)\r\n\r\n  //pausa e esconde a câmera\r\n  video.pause()\r\n  video.style.visibility = \"hidden\"\r\n\r\n  //muda o state com a imagem\r\n  this.setState({foto: canvas.toDataURL(\"image/png\")})\r\n}\r\n\r\n  handleSubmit = async (e) => {\r\n    // evita o funcionamento padrão do método \r\n    // (ou seja, no evento submit, enviar o form)\r\n    e.preventDefault();\r\n\r\n    if (this.state.nome === '' || this.state.sexo === '' || this.state.nasc === '' || this.state.foto === ''){\r\n      this.setState({ aviso: 'Por favor, preencha nome, sexo, data de nascimento e foto'})\r\n      this.tempoAviso()\r\n    }\r\n\r\n  \r\nconst formData = new FormData()\r\nformData.append('nome', this.state.nome)\r\nformData.append('sexo', this.state.sexo)\r\nformData.append('nasc', this.state.nasc)\r\nformData.append('foto', this.state.foto)\r\n\r\nconst config = {\r\n\r\n  headers: {\r\n    'content-type': 'multipart/form-data'\r\n  }\r\n}\r\n\r\ntry {\r\n  const reg = await Conecta.post('inc_cliente.php', formData, config)\r\n  this.limpar()\r\n  this.setState({aviso: `Ok! Cliente cadastrado com Sucesso - código ${reg.data[0].id}`})\r\n} catch (erro) {\r\n  this.setState({aviso: `Erro... Cliente não inserido: ${erro}`})\r\n}\r\n\r\nthis.tempoAviso()\r\n  }\r\ntempoAviso = (tempo = 3000) => {\r\n  setTimeout (()=>{\r\n    this.setState({ aviso: ''})\r\n  }, tempo)\r\n}\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <form className=\"mx-4 mt-3\" onSubmit={this.handleSubmit}  encType=\"multipart/form-data/\">\r\n        <div className=\"row\">\r\n          <div className=\"input-group col-sm-6 mt-3\">\r\n            <div className=\"input-group-prepend\">\r\n              <span className=\"input-group-text\">Nome do Cliente:</span>\r\n            </div>\r\n            <input type=\"text\" className=\"form-control\" \r\n                   placeholder=\"Nome do Cliente\" autoFocus\r\n                   name=\"nome\"  id=\"nome\"\r\n                   onChange={this.handleChange}\r\n                   value={this.state.nome} />\r\n          </div>\r\n          <div className=\"input-group col-sm-6 mt-3\">\r\n            <div className=\"input-group-prepend\">\r\n              <span className=\"input-group-text\">Sexo:</span>\r\n            </div>\r\n            <select className=\"form-control\" name=\"sexo\" id=\"sexo\"\r\n                    onChange={this.handleChange}\r\n                    value={this.state.sexo}>\r\n              <option></option>\r\n              <option>Masculino</option>\r\n              <option>Feminino</option>\r\n              </select>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"input-group col-sm-6 mt-3\">\r\n            <div className=\"input-group-prepend\">\r\n              <span className=\"input-group-text\">Data de Nascimento:</span>\r\n            </div>\r\n            <input type=\"date\" className=\"form-control\" \r\n                   placeholder=\"Data de Nascimento\"\r\n                   name=\"nasc\" id=\"nasc\"\r\n                   onChange={this.handleChange}\r\n                   value={this.state.nasc} />\r\n          </div>\r\n          \r\n          \r\n  \r\n\r\n         \r\n{this.state.aviso !== '' ?\r\n<div className='alert alert-info mt-4'>\r\n  {this.state.aviso}\r\n  </div>\r\n  : ''\r\n  }\r\n</div>\r\n\r\n<div className=\"row\">\r\n  <video id = \"video\" width=\"320\" height=\"240\"></video>\r\n  <canvas id = \"canvas\" width=\"320\" height=\"240\"></canvas>\r\n  <input type = \"button\"className= \"btn btn-danger float-right mt-3 px-5\"\r\n  onClick={this.capturarFoto} value=\"Capturar Foto\" />\r\n   <input type = \"button\"className= \"btn btn-danger float-right mt-3 px-5\"\r\n onClick={this.habilitarCamera} value=\"Habilitar Câmera\" />\r\n              <button type=\"submit\" className=\"btn btn-danger float-right mt-3 px-5\">Enviar</button>\r\n              <button type=\"reset\" className=\"btn btn-primary float-right mt-3 px-5\">Limpar</button>\r\n                \r\n</div>\r\n               \r\n         \r\n        \r\n      </form>\r\n    )\r\n  }    \r\n}\r\n    \r\n","import React from 'react'\r\nimport './tabela.css'\r\nimport 'firebase/firestore'\r\nconst ItemLista = props => {\r\n  return (\r\n    <tr>\r\n      <td>{props.nome}</td>\r\n      <td>{props.sexo}</td>\r\n      <td>{props.data}</td>\r\n      <td>{props.nota}</td>\r\n      <td>\r\n      <button className=\"btn btn-sm btn-danger mr-1\" \r\n                onClick={(e) => window.confirm(`Confirma a exclusão do ${props.nome}?`)\r\n                && props.excluir(props.id, e)}>\r\n          Excluir\r\n        </button>\r\n        <button className=\"btn btn-sm btn-warning mb-1\">Alterar</button>\r\n      </td>\r\n    </tr>\r\n  )\r\n}\r\n\r\nexport default ItemLista","import React from 'react'\r\n\r\nimport ItemLista from './ItemLista'\r\nimport './tabela.css'\r\nimport * as firebase from 'firebase/app'\r\nimport 'firebase/firestore'\r\n\r\nclass Listagem extends React.Component {\r\n\r\n  state = {\r\n    clientes: []\r\n  }\r\n  \r\n\r\n  // método \"especial\" executado logo após a renderização da página\r\n  componentDidMount() {\r\n    this.loadClientes()\r\n  \r\n  }\r\n\r\n  // async, await: executa em paralelo a algum outro processo \r\n  loadClientes = () => {\r\n    let clientes = []\r\n    firebase.firestore().collection('clientes').orderBy('nome').onSnapshot((snapshot) => {\r\n      snapshot.docChanges().forEach((change) => {\r\n        if (change.type === 'added' || change.type === 'modified'){\r\n                  \r\n        clientes.push({\r\n          id: change.doc.id,\r\n          ...change.doc.data()\r\n          \r\n        })\r\n      }\r\n      return (change.doc);\r\n      });\r\n      this.setState({clientes})\r\n    \r\n    })\r\n  }\r\n\r\n  formataData = data => {\r\n    return new Date(data).toLocaleDateString('pt-br', {timeZone: 'UTC'})\r\n  }\r\n \r\n  excluir = async (id) => {\r\n    \r\n    const db = firebase.firestore()\r\n    db.collection(\"clientes\").doc(id).delete().then(function(){\r\n      console.log(\"Document sucessfully deleted!\");\r\n     \r\n    }).catch(function(error){\r\n      console.error(\"Error removing document: \", error);\r\n    });\r\n    \r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"mx-2\">\r\n        <table className=\"table table-sm table-striped table-bordered table-action\">\r\n          <thead>\r\n            <tr className=\"table-primary\">\r\n              <th>Nome</th>\r\n              <th>Sexo</th>\r\n              <th>Nascimento</th>\r\n              <th>Nota</th>\r\n              <th>Ações</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {this.state.clientes.map( (cliente) => (\r\n              <ItemLista key={cliente.nome}\r\n              id={cliente.id}\r\n                         nome={cliente.nome}\r\n                         sexo={cliente.sexo}\r\n                         nasc={this.formataData(cliente.nasc)}\r\n                         nota={cliente.nota} \r\n                        excluir={this.excluir}/>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Listagem","import React from 'react';\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\n\nimport CabMenu from './CabMenu'\nimport Home from './Home'\nimport FormCadastro from './FormCadastro'\nimport Listagem from './Listagem'\n\n\nfunction App() {\n  return (\n    <Router>  \n      <CabMenu />\n      <Route path=\"/\" exact component={Home} />\n      <Route path=\"/cadastro/\" component={FormCadastro} />\n      <Route path=\"/listagem/\" component={Listagem} />\n    </Router>    \n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n/*\nimport * as firebase from 'firebase/app'\nimport 'firebase/firestore'\n\nvar firebaseConfig = {\n   apiKey: \"AIzaSyAF1jxelbBi-c6T3wZkyNC7bgRC680hvPA\",\n   authDomain: \"teste01-b4a05.firebaseapp.com\",\n   databaseURL: \"https://teste01-b4a05.firebaseio.com\",\n   projectId: \"teste01-b4a05\",\n   storageBucket: \"teste01-b4a05.appspot.com\",\n   messagingSenderId: \"242035664314\",\n   appId: \"1:242035664314:web:21d4a7aded47e12d3ca983\",\n   measurementId: \"G-VP1KB5W143\"\n };\n // Initialize Firebase\n firebase.initializeApp(firebaseConfig);\n\n*/\nReactDOM.render(\n   <App />, \n   document.getElementById('root')\n);"],"sourceRoot":""}