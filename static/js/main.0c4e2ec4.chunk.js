(window["webpackJsonpcad-filmes"]=window["webpackJsonpcad-filmes"]||[]).push([[0],{34:function(e,t,a){},43:function(e,t,a){e.exports=a(72)},72:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(39),c=a.n(o),l=a(8),s=a(6),i=a(9),m=a(10),u=a(12),d=a(11),p=a(13),b=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-sm bg-dark navbar-dark mb-2"},r.a.createElement(l.b,{to:"/",className:"navbar-brand"},"Clientes"),r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{to:"/cadastro",className:"nav-link"},"Cadastro")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{to:"/listagem",className:"nav-link"},"Listagem")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{to:"/resumo",className:"nav-link"},"Resumo"))))}}]),t}(n.Component),v=function(){return r.a.createElement("div",{className:"mx-2"},r.a.createElement("h4",null,"Cadastro de Clientes"),r.a.createElement("h5",null,"Trabalho de T\xf3picos Avan\xe7ados de \xc1nalise de Sistemas"))},h=a(7),f=a.n(h),E=a(16),g=a(17),y=a(42),N=a.n(y).a.create({baseURL:"https://taadscadastro.000webhostapp.com/"}),x=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={nome:"",sexo:"",nasc:"",foto:"",aviso:""},a.limpar=function(){a.setState(a.initialState)},a.handleChange=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a.habilitarCamera=Object(E.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){e.next=3;break}return e.next=3,navigator.mediaDevices.getUserMedia({video:!0}).then(function(e){var t=document.getElementById("video");t.style.visibility="visible",t.srcObject=e,t.onloadedmetadata=function(e){t.play()}}).catch(function(e){console.log(e.name+": "+e.message)});case 3:case"end":return e.stop()}},e)})),a.capturarFoto=function(){var e=document.getElementById("canvas"),t=document.getElementById("video");e.getContext("2d").drawImage(t,0,0,320,240),t.pause(),t.style.visibility="hidden",a.setState({foto:e.toDataURL("image/png")})},a.handleSubmit=function(){var e=Object(E.a)(f.a.mark(function e(t){var n,r,o;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),""!==a.state.nome&&""!==a.state.sexo&&""!==a.state.nasc&&""!==a.state.foto||(a.setState({aviso:"Por favor, preencha nome, sexo, data de nascimento e foto"}),a.tempoAviso()),(n=new FormData).append("nome",a.state.nome),n.append("sexo",a.state.sexo),n.append("nasc",a.state.nasc),n.append("foto",a.state.foto),r={headers:{"content-type":"multipart/form-data"}},e.prev=8,e.next=11,N.post("inc_cliente.php",n,r);case 11:o=e.sent,a.limpar(),a.setState({aviso:"Ok! Cliente cadastrado com Sucesso - c\xf3digo ".concat(o.data[0].id)}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),a.setState({aviso:"Erro... Cliente n\xe3o inserido: ".concat(e.t0)});case 19:a.tempoAviso();case 20:case"end":return e.stop()}},e,null,[[8,16]])}));return function(t){return e.apply(this,arguments)}}(),a.tempoAviso=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;setTimeout(function(){a.setState({aviso:""})},e)},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.initialState=this.state}},{key:"render",value:function(){return r.a.createElement("form",{className:"mx-4 mt-3",onSubmit:this.handleSubmit,encType:"multipart/form-data/"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-group col-sm-6 mt-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Nome do Cliente:")),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Nome do Cliente",autoFocus:!0,name:"nome",id:"nome",onChange:this.handleChange,value:this.state.nome})),r.a.createElement("div",{className:"input-group col-sm-6 mt-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Sexo:")),r.a.createElement("select",{className:"form-control",name:"sexo",id:"sexo",onChange:this.handleChange,value:this.state.sexo},r.a.createElement("option",null),r.a.createElement("option",null,"Masculino"),r.a.createElement("option",null,"Feminino")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-group col-sm-6 mt-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Data de Nascimento:")),r.a.createElement("input",{type:"date",className:"form-control",placeholder:"Data de Nascimento",name:"nasc",id:"nasc",onChange:this.handleChange,value:this.state.nasc})),""!==this.state.aviso?r.a.createElement("div",{className:"alert alert-info mt-4"},this.state.aviso):""),r.a.createElement("div",{className:"row"},r.a.createElement("video",{id:"video",width:"320",height:"240"}),r.a.createElement("canvas",{id:"canvas",width:"320",height:"240"}),r.a.createElement("input",{type:"button",className:"btn btn-danger float-right mt-3 px-5",onClick:this.capturarFoto,value:"Capturar Foto"}),r.a.createElement("input",{type:"button",className:"btn btn-danger float-right mt-3 px-5",onClick:this.habilitarCamera,value:"Habilitar C\xe2mera"}),r.a.createElement("button",{type:"submit",className:"btn btn-danger float-right mt-3 px-5"},"Enviar"),r.a.createElement("button",{type:"reset",className:"btn btn-primary float-right mt-3 px-5"},"Limpar")))}}]),t}(n.Component),O=(a(34),a(35),function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.nome),r.a.createElement("td",null,e.sexo),r.a.createElement("td",null,e.data),r.a.createElement("td",null,e.nota),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-sm btn-danger mr-1",onClick:function(t){return window.confirm("Confirma a exclus\xe3o do ".concat(e.nome,"?"))&&e.excluir(e.id,t)}},"Excluir"),r.a.createElement("button",{className:"btn btn-sm btn-warning mb-1"},"Alterar")))}),w=a(23);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var j=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={clientes:[]},a.loadClientes=function(){var e=[];w.firestore().collection("clientes").orderBy("nome").onSnapshot(function(t){t.docChanges().forEach(function(t){return"added"!==t.type&&"modified"!==t.type||e.push(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach(function(t){Object(g.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({id:t.doc.id},t.doc.data())),t.doc}),a.setState({clientes:e})})},a.formataData=function(e){return new Date(e).toLocaleDateString("pt-br",{timeZone:"UTC"})},a.excluir=function(){var e=Object(E.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:w.firestore().collection("clientes").doc(t).delete().then(function(){console.log("Document sucessfully deleted!")}).catch(function(e){console.error("Error removing document: ",e)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.loadClientes()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"mx-2"},r.a.createElement("table",{className:"table table-sm table-striped table-bordered table-action"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"table-primary"},r.a.createElement("th",null,"Nome"),r.a.createElement("th",null,"Sexo"),r.a.createElement("th",null,"Nascimento"),r.a.createElement("th",null,"Nota"),r.a.createElement("th",null,"A\xe7\xf5es"))),r.a.createElement("tbody",null,this.state.clientes.map(function(t){return r.a.createElement(O,{key:t.nome,id:t.id,nome:t.nome,sexo:t.sexo,nasc:e.formataData(t.nasc),nota:t.nota,excluir:e.excluir})}))))}}]),t}(r.a.Component);var k=function(){return r.a.createElement(l.a,null,r.a.createElement(b,null),r.a.createElement(s.a,{path:"/",exact:!0,component:v}),r.a.createElement(s.a,{path:"/cadastro/",component:x}),r.a.createElement(s.a,{path:"/listagem/",component:j}))};c.a.render(r.a.createElement(k,null),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.0c4e2ec4.chunk.js.map